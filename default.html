<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>Bootout - Knockout JS Bindings for Bootstrap</title>
    <link href="css/bootstrap.min.css" rel="stylesheet" />
    <script src="Scripts/jquery-1.8.3.min.js"></script>
    <script src="Scripts/bootstrap.min.js"></script>
    <script src="Scripts/knockout-2.2.0.js"></script>
    <script src="Scripts/bootout.js"></script>
</head>
<body>

    <div class="container">

        <div class="row">
            <div class="span12">
                <h1>Modal</h1>
                <a href="#" id="disablemodal" role="button" class="btn">Disable/Enable modal</a>
                <a href="#" id="fademodal" role="button" class="btn">Fade modal</a>
                <a href="#" id="showmodal" role="button" class="btn">Show modal</a>
            </div>
        </div>
        <div class="row">
            <div class="span12">&nbsp;</div>
        </div>
        <div class="row">
            <div class="span12">
                <h1>Icons</h1>
                <a href="#" id="iconswap" role="button" class="btn">Icon swap</a>
                <i data-bind="bootstrapIcon: icon"></i>
            </div>
        </div>
    </div>

    <div id="koModal" data-bind="modalSetup: true, modalDisable: disableModal, modalFade: fadeModal, modalShow: showModal, modalAriaLabelId: 'H1', modalOnShow: onShowModal, modalOnShown: onShownModal, modalOnHide: onHideModal, modalOnHidden: onHiddenModal, modalOptions: { show: false }">
        <div class="modal-header">
            <button type="button" class="close" data-bind="click: function() { showModal(false); }">×</button>
            <h3 id="H1">KO Modal header</h3>
        </div>
        <div class="modal-body">
            <p>KO body…</p>
        </div>
        <div class="modal-footer">
            <button class="btn" aria-hidden="true" data-bind="click: function() { showModal(false); }">Close</button>
            <button class="btn btn-primary" data-bind="click: function() { showModal(false); }">Save changes</button>
        </div>
    </div>

</body>
    <script>

        var vm = {
            disableModal: ko.observable(false),
            fadeModal: ko.observable(true),
            showModal: ko.observable(false),
            icon: ko.observable("ok")
        };

        vm.onShowModal = function () {
            alert("show!");
        };

        vm.onShownModal = function () {
            alert("shown!");
        };

        vm.onHideModal = function () {
            alert("hide!");
        };

        vm.onHiddenModal = function () {
            alert("hidden!");
        };

        ko.applyBindings(vm);

        $("#disablemodal").click(
            function () { vm.disableModal(!vm.disableModal()); }
            );

        $("#fademodal").click(
           function () { vm.fadeModal(!vm.fadeModal()); }
           );

        $("#showmodal").click(
           function () { vm.showModal(!vm.showModal()); }
           );

        $("#iconswap").click(
           function () { vm.icon("remove"); }
           );

    </script>
</html>
